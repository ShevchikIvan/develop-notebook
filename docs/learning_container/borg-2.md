Borg阅读（二）
-----------

## Availability
读完这一章节，对分布式系统在可用性上会遇到的问题，有了大致的了解。Borg系统能达到99.99%的可用性，相信这里它所列出的提升
可用性的方法是很具有参考价值的，但这里它并没有给出技术细节，要深入了解，还得靠自己了。我想接下来我首先要明白一个分布式系
统会在哪些地方遇到可用性的考验，其次对每个问题的应对方法做一定的研究。

我目前有点在意的是Borg当一个节点故障后，Borg无法判断是大规模的机器失败还是部分网络错误，而降低任务调度速率。不知道这里
有没有更好的改进方法呢？

## Utilization
在上一篇中，我提到关于borg的整体架构只占了这篇论文的三分之一，重头戏其实都在后面呢，而这一张可利用性可谓是Borg的亮点，
看看infoQ是怎么说的吧：

> 本节讨论的集群利用率优化可以说是Borg的精华所在，也是Borg系统与其他类似项目相比最大的亮点之一。

#### Q1. 首先一个很大的疑惑就是..利用率很重要吗？
仔细想想利用率无疑是很重要的，不浪费一点资源来利用整个集群的计算性能。Borg做了最主要工作就是来回收再利用任务的空闲资源，
并且对不同的回收策略做出了科学的评估。

#### Q2. Borg采用了何种评估方法？
（嘻嘻，画风突变，不再直接提出我真正的疑问，而采用设问句哈，自问自答咯）
Borg采用的是一个叫做“cell compaction”的方法，因为Google的环境中machines多种多样，又会遇到批处理任务抢占服务job的
情况，采用“average utilization”不能准确评估，故采用此方法。

那问题来了，为什么有以上说到的情况就不能采用“average utilization”方法呢？还有这个“cell compaction”又是什么方法呢？

infoQ文中对Borg不采用“average utilization”做出了以下解释：

> Borg很难快速而精确地回答"某个机器/集群到底还有多少资源可用"这样的问题

因为无法判断还有多少可用资源，自然就无法得出具体利用率是多少了，所以Borg从另外一个角度来衡量利用率，也就是被称之为
“cell compaction”的方法。原理说起来很简单，就是固定一个workload，不断减少节点数，当Borg不能适应时，便是这一调度方法
的极限值，可以想象越少的的节点数能处理越多的工作量是最好。

这看起来简单，但实际其中的细节是很复杂的，Borg也给了两篇论文供参考。

.
.
.
略过n多一知半解的，直接跳至我更关心的第六章（对这篇论文越来越提不起兴趣了额，却太多知识。。）

## Isolation
关于这里我比较看重的点就是，在使用容器技术来做隔离时，Borg遇到过哪些问题，是如何解决的，我想我可以从这一方面来考虑研究方
向。
